<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <data>
        <record id="zendesk_tickets" model="ir.actions.act_window">
            <field name="name">Zendesk</field>
            <field name="res_model">zendesk.tickets</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record id="zendesk_tickets_form" model="ir.ui.view">
            <field name="name">zendesk.tickets.form</field>
            <field name="model">zendesk.tickets</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <group>
                                <div>
                                    <h1 class="text-primary">Customer Information</h1>
                                    <hr/>
                                    <p style="font-size:16px;"><b>Name: </b><i><field name="name" class="oe_center"/></i></p>
                                    <p style="font-size:16px;"><b>Subject: </b><i><field name ='subject' class="oe_center"/></i></p>
                                    <hr/>
                                    <p style="font-size:14px;"><b>Public Message:     </b><field name="public"/></p>
                                    <p style="font-size:14px;"><b>Add Tags:     </b><field name="tags" widget="many2many_tags" style="border-bottom:1px solid gray; width:75%"/></p>
                                    <p style="font-size:14px;"><b>Add Attachment:     </b><field name="file_to_upload" filename="my_file_fname" widget="many2many_binary" style="width:75%" /></p>
                                    <br/>
                                    <br/>
                                    <button class="btn-primary" name="update_ticket" type="object">Update Ticket</button>
                                </div>
                            </group>
                            <group>
                                <div width="100%">
                                    <h1 class="text-primary">Ticket Information</h1>
                                    <hr/>
                                    <p style="font-size:16px;"><b>Requester: </b><i><field name = 'requester'/></i></p>
                                    <p style="font-size:16px; font-family:sans-serif;"><b>Requested: </b><i><field name = 'requested'/></i></p>
                                    <hr/>
                                    <p style="font-size:14px; font-family:sans-serif;"><b>Type: <i><field name = 'type' widget="selection" decoration-danger="type=='problem'" decoration-warning="type=='incident'" decoration-info="type=='question'" decoration-success="type=='task'"/></i></b></p>
                                    <p style="font-size:14px; font-family:sans-serif;"><b>Priority: <i><field name = 'priority' widget="selection" decoration-danger="priority=='urgent'" decoration-info="priority=='high'" decoration-warning="priority=='normal'" decoration-success="priority=='low'"/></i></b></p>
                                    <p style="font-size:14px; font-family:sans-serif;"><b>Status: <i><field name = 'status' widget="selection" decoration-danger="status=='open'" decoration-info="status=='pending'" decoration-muted="status=='solved'"/></i></b></p>
                                </div>
                            </group>
                        </group>
                        <notebook>
                            <page name="body" string="Body">
                                <form>
                                    <div class="form-group">
                                        <field name="comment" rows="5"/>
                                    </div>
                                </form>
                                <button class="btn btn-primary" name="send_message" type="object">Submit</button>
                                <div>
                                    <field name="message_ids" widget="mail_thread"/>
                                </div>
                            </page>
                    </notebook>
                    </sheet>
                </form>
            </field>
        </record>


        <record id="zendesk_tickets_tree" model="ir.ui.view">
			<field name="name">zendesk.tickets.tree</field>
			<field name="model">zendesk.tickets</field>
			<field name= "arch" type = "xml">
				<tree string="Tickets" decoration-bf="priority=='urgent'" >
					    <field name = 'subject'/>
                        <field name = 'requester'/>
                        <field name = 'requested'/>
                        <field name = 'type'/>
                        <field name = 'priority'/>
                        <field name = 'status' />
				</tree>
			</field>
		</record>




        <menuitem id="zendesk_root" name="Zendesk"/>
        <menuitem id="zendesk_tickets_menu" name="Support" parent="zendesk_root" action="zendesk_tickets" sequence="1"/>
    </data>
</odoo>