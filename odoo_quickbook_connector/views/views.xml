<?xml version="1.0" encoding="UTF-8"?>
    <odoo>
        <data noupdate="1">
            <record id="my_record_01" model="quickbooks.connector">
                <field name="name">QuickBooks</field>

            </record>
        </data>
        <data noupdate="1">
            <record id="object0" model="quickbooks.autoconnector">
                <field name="name">QuickBooks Auto</field>
            </record>
        </data>
        <data noupdate="1">
            <record id="my_object0" model="quickbooks.autoexportconnector">
                <field name="name">QuickBooks Auto Export</field>
            </record>
        </data>
        <data>

            <record model="ir.ui.view" id="qb_form_view">
                <field name="name">QB.form</field>
                <field name="model">res.users</field>
                <field name="inherit_id" ref="base.view_users_form" />

                <field name="arch" type="xml">

                    <notebook position="inside">

                        <page string="QuickBook Token">
                            <group>
                                <group>
                                    <field name="login_url" widget="url" />
                                    <field name="code" />
                                    <field name="realm_id" />

                                    <button string="Generate Token" type="object" name="generate_token" class="oe_highlight" />
                                </group>

                            </group>
                        </page>

                    </notebook>

                </field>

            </record>

            <record model="ir.ui.view" id="quickbook_user_inherit_form">

                <field name="name">res.users.form</field>

                <field name="model">res.users</field>

                <field name="inherit_id" ref="base.view_users_form" />

                <field name="arch" type="xml">

                    <xpath expr="//form/sheet/notebook/page[2]" position="after">

                        <page string="Quickbooks Credentials">

                            <group>

                                <field name="client_id" />

                                <field name="client_secret" />

                                <field name="redirect_url" />

                                <field name="account_type" />
                                <field name="qb_email" />
                                <field name='qb_password' />
                                <button name="test_connection" type="object" string='Test Connection' class="oe_highlight" />

                                <!--<button name="test_connection" type="object" string="Test Connection" class="oe_highlight"/>-->

                            </group>

                        </page>

                    </xpath>

                </field>

            </record>

            <record id="product_order_new_action1" model="ir.actions.server">

                <field name="name">Sync to QuickBook</field>

                <field name="model_id" ref="model_product_template" />
                <field name="binding_model_id" ref="model_product_template" />

                <field name="state">code</field>

                <field name="code">records.sync_product(False)</field>

            </record>

            <record id="run_product_new_order_action2" model="ir.default">

                <field name="model_id" ref="model_product_template" />
                <field name="field_id" eval="1" />
                <field name="json_value">False</field>

                <field name="name">Sync to QuickBook</field>

                <field name="key2">client_action_multi</field>

                <field name="key">action</field>

                <field name="model">product.template</field>

                <field name="value" eval="'ir.actions.server,' + str(ref('product_order_new_action1'))" />

            </record>

            <record id="invoices_order_new_action1" model="ir.actions.server">

                <field name="name">Sync to QuickBook</field>

                <field name="model_id" ref="model_account_invoice" />

                <field name="state">code</field>

                <field name="code">records.sync_invoice(False)</field>

            </record>

            <record id="run_invoices_new_order_action2" model="ir.default">

                <field name="model_id" ref="model_account_invoice" />
                <field name="field_id" eval="1" />
                <field name="json_value">False</field>

                <field name="name">Sync to QuickBook</field>

                <field name="key2">client_action_multi</field>

                <field name="key">action</field>

                <field name="model">account.invoice</field>

                <field name="value" eval="'ir.actions.server,' + str(ref('invoices_order_new_action1'))" />

            </record>

            <record id="customer_order_new_action1" model="ir.actions.server">

                <field name="name">Sync to QuickBook</field>

                <field name="model_id" ref="model_res_partner" />

                <field name="state">code</field>

                <field name="code">records.sync_customer(False)</field>

            </record>

            <record id="run_customer_new_order_action2" model="ir.default">

                <field name="model_id" ref="model_res_partner" />
                <field name="field_id" eval="1" />
                <field name="json_value">False</field>

                <field name="name">Sync to QuickBook</field>

                <field name="key2">client_action_multi</field>

                <field name="key">action</field>

                <field name="model">res.partner</field>

                <field name="value" eval="'ir.actions.server,' + str(ref('customer_order_new_action1'))" />

            </record>

            <record model="ir.ui.view" id="quickbooks_form_view">
                <field name="name">quickbooks.form</field>
                <field name="model">quickbooks.connector</field>
                <field name="arch" type="xml">
                    <form string="QuickBooks Settings" create="false" edit="false">
                        <sheet>
                            <group>
                                <group>
                                    <h1>ODOO-QuickBooks CONNECTOR</h1>
                                </group>
                                <group>
                                    <group>

                                    </group>
                                    <group>

                                    </group>
                                </group>

                            </group>

                            <group>
                                <group>
                                    <field name="last_sync_date" />
                                    <br></br>
                                    <br></br>

                                    <field name="customers" />
                                    <field name="invoices" />
                                    <field name="products" />

                                </group>

                                <group>

                                </group>

                                <group>

                                    <button name="sync_data" type="object" string="Sync" class="oe_highlight" icon="fa-refresh fa-2x" style="width:20%" />

                                </group>
                            </group>
                        </sheet>
                    </form>
                </field>
            </record>

            <record model="ir.actions.act_window" id="quickbooks_action">
                <field name="name">quickbooks window</field>
                <field name="res_model">quickbooks.connector</field>
                <field name="view_type">form</field>
                <field name="view_mode">form,tree</field>
                <field name="res_id" ref="odoo_quickbook_connector.my_record_01" />
                <field name="target">inline</field>
            </record>

            <record model="ir.ui.view" id="quickbooks_auto_import_form_view">
                <field name="name">quickbooks.autoimportform</field>
                <field name="model">quickbooks.autoconnector</field>
                <field name="arch" type="xml">
                    <form string="QuickBooks Automated Import Actions Settings" create="false" edit="false">
                        <sheet>
                            <group>
                                <group>
                                    <h1>Automated Import Actions Settings</h1>

                                </group>
                                <group>

                                    <group>

                                    </group>
                                    <group>

                                    </group>
                                </group>

                            </group>

                            <group>

                                <group string="Invoices">
                                    <field name="invoices" />
                                    <field name="interval_number_invoice" />
                                    <field name="interval_unit_invoice" />
                                </group>

                                <group string="Customers">
                                    <field name="customers" />
                                    <field name="interval_number_customer" />
                                    <field name="interval_unit_customer" />
                                </group>
                                <group string="Products">
                                    <field name="products" />
                                    <field name="interval_number_product" />
                                    <field name="interval_unit_product" />
                                </group>
                                <group>

                                </group>
                                <group>
                                    <button name="sync_data" type="object" string="Save" class="oe_highlight" icon="fa-refresh fa-2x" style="width:20%" />

                                </group>
                                <br></br>
                                <span class="text-success">This may take some time if scheduler is already running</span>

                            </group>

                        </sheet>

                    </form>
                </field>

            </record>

            <record model="ir.actions.act_window" id="quickbooks_auto_import_action">
                <field name="name">quickbooks auto import window</field>
                <field name="res_model">quickbooks.autoconnector</field>
                <field name="view_type">form</field>
                <field name="view_mode">form,tree</field>
                <field name="res_id" ref="odoo_quickbook_connector.object0" />
                <field name="target">inline</field>
            </record>

            <record model="ir.ui.view" id="quickbooks_auto_export_form_view">
                <field name="name">quickbooks.autoexportform</field>
                <field name="model">quickbooks.autoexportconnector</field>
                <field name="arch" type="xml">
                    <form string="QuickBooks Automated Export Actions Settings" create="false" edit="false">
                        <sheet>
                            <group>
                                <group>
                                    <h1>Automated Export Actions Settings</h1>

                                </group>
                                <group>

                                    <group>

                                    </group>
                                    <group>

                                    </group>
                                </group>

                            </group>

                            <group>

                                <group string="Invoices">
                                    <field name="invoices" />
                                    <field name="interval_number_invoice" />
                                    <field name="interval_unit_invoice" />
                                </group>

                                <group string="Customers">
                                    <field name="customers" />
                                    <field name="interval_number_customer" />
                                    <field name="interval_unit_customer" />
                                </group>
                                <group string="Products">
                                    <field name="products" />
                                    <field name="interval_number_product" />
                                    <field name="interval_unit_product" />
                                </group>
                                <group>

                                </group>
                                <group>
                                    <button name="sync_data" type="object" string="Save" class="oe_highlight" icon="fa-refresh fa-2x" style="width:20%" />

                                </group>
                                <br></br>
                                <span class="text-success">This may take some time if scheduler is already running</span>

                            </group>

                        </sheet>

                    </form>
                </field>

            </record>

            <record model="ir.actions.act_window" id="quickbooks_auto_export_action">
                <field name="name">quickbooks auto export window</field>
                <field name="res_model">quickbooks.autoexportconnector</field>
                <field name="view_type">form</field>
                <field name="view_mode">form,tree</field>
                <field name="res_id" ref="odoo_quickbook_connector.my_object0" />
                <field name="target">inline</field>
            </record>

            <menuitem id="main_quickbooks_menu" name="QuickBooks" />

            <menuitem id="quickbooks_menu" name="QuickBooks" parent="main_quickbooks_menu" action="quickbooks_action" />
            <menuitem id="quickbooks_auto_menu" name="Quickbooks Auto  Settings" parent="main_quickbooks_menu" />

            <menuitem id="quickbooks_auto_import_menu" name="Import Settings" parent="quickbooks_auto_menu" action="quickbooks_auto_import_action" />
            <menuitem id="quickbooks_auto_export_menu" name="Export Settings" parent="quickbooks_auto_menu" action="quickbooks_auto_export_action" />
        </data>

    </odoo>